{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/hide-on-scroll.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","defaultOptions","delay","position","classHidden","classLocked","_instanceCount","_isScrollingUpwards","_scrollPosition","window","scrollY","pageYOffset","assign","target","firstSource","TypeError","to","Object","arguments","nextSource","keysArray","keys","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","HideOnScroll","_this","this","selector","options","_classCallCheck","_selector","_options","_items","nodeList","document","querySelectorAll","push","HideOnScrollItem","addEventListener","refresh","element","className","body","classList","add","remove","parent","_parent","_element","_setOptionInt","clearTimeout","_timeoutId","contains","_this2","setTimeout","hide","option","attr","value","getAttribute","parseInt"],"mappings":"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","file":"../dist/hide-on-scroll.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// HIDE ON SCROLL\r\n// ==============\r\n\r\n// Constants\r\n// ---------\r\n\r\nconst defaultSelector = '.hide-on-scroll';\r\nconst defaultOptions  = {\r\n    delay: 2000,\r\n    position: 0\r\n};\r\n\r\nconst attrDelay       = 'data-hide-delay';\r\nconst attrPosition    = 'data-hide-position';\r\n\r\nconst classHidden     = 'is-hidden-on-scroll';\r\nconst classLocked     = 'is-locked';\r\nconst classNoAnim     = 'no-anim';\r\nconst classTop        = 'at-top';\r\n\r\n// Static Members\r\n// --------------\r\n\r\nlet _instanceCount = 0;\r\nlet _isScrollingUpwards = false;\r\nlet _scrollPosition = window.scrollY || window.pageYOffset;\r\n\r\n// Utility Methods\r\n// ---------------\r\n\r\nfunction assign(target, firstSource) {\r\n    if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert first argument to object');\r\n    }\r\n    var to = Object(target);\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var nextSource = arguments[i];\r\n        if (nextSource === undefined || nextSource === null) {\r\n            continue;\r\n        }\r\n        var keysArray = Object.keys(Object(nextSource));\r\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n            var nextKey = keysArray[nextIndex];\r\n            var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n            if (desc !== undefined && desc.enumerable) {\r\n                to[nextKey] = nextSource[nextKey];\r\n            }\r\n        }\r\n    }\r\n    return to;\r\n}\r\n\r\nfunction toggleClass(element, className, force) {\r\n    if (force) {\r\n        element.classList.add(className);\r\n    } else {\r\n        element.classList.remove(className);\r\n    }\r\n}\r\n\r\n// HideOnScroll\r\n// ------------\r\n\r\nexport default class HideOnScroll {\r\n\r\n    static get instanceCount() { return _instanceCount; }\r\n    static get isScrollingUpwards() { return _isScrollingUpwards; }\r\n    static get scrollPosition() { return _isScrollingUpwards; }\r\n\r\n    get items() { return this._items; }\r\n    get options() { return this._options; }\r\n    get selector() { return this._selector; }\r\n\r\n    constructor (selector = defaultSelector, options = {}) {\r\n        // Selector\r\n        this._selector = selector;\r\n        // Options\r\n        this._options = assign({}, defaultOptions, options);\r\n        // Items\r\n        this._items = [];\r\n        let nodeList = document.querySelectorAll(selector);\r\n        for (let i = 0; i < nodeList.length; i++) {\r\n            this._items.push(new HideOnScrollItem(this, nodeList[i]));\r\n        }\r\n        // On Scroll\r\n        if (_instanceCount == 0) {\r\n            window.addEventListener('scroll', (e) => {\r\n                this.refresh(e);\r\n            });\r\n        }\r\n        _instanceCount++;\r\n    }\r\n\r\n    refresh(e) {\r\n        let position = window.scrollY || window.pageYOffset;\r\n        if (position == _scrollPosition) return;\r\n        toggleClass(document.body, classTop, (position <= 0));\r\n        _isScrollingUpwards = (position < _scrollPosition || position <= 0)\r\n        _scrollPosition = position;\r\n        for (let i = 0; i < this._items.length; i++) this._items[i].refresh();\r\n    }\r\n\r\n}\r\n\r\n// HideOnScrollItem\r\n// ----------------\r\n\r\nclass HideOnScrollItem {\r\n\r\n    get element() { return this._element; }\r\n    get options() { return this._options; }\r\n    get parent() { return this._parent; }\r\n\r\n    constructor(parent, element) {\r\n        this._parent = parent;\r\n        this._element = element;\r\n        this._options = assign({}, parent._options);\r\n        this._setOptionInt('delay', attrDelay);\r\n        this._setOptionInt('position', attrPosition);\r\n    }\r\n\r\n    clearTimeout() {\r\n        clearTimeout(this._timeoutId);\r\n        this._timeoutId = undefined;\r\n    }\r\n\r\n    hide() {\r\n        if (_scrollPosition <= this._options.position || this._element.classList.contains(classLocked)) return;\r\n        this._timeoutId = undefined;\r\n        this._element.classList.add(classHidden);\r\n    }\r\n\r\n    refresh() {\r\n        this.clearTimeout();\r\n        this._element.classList.remove(classNoAnim);\r\n        let show = (_isScrollingUpwards || _scrollPosition <= this._options.position || this._element.classList.contains(classLocked));\r\n        if (show) {\r\n            this._element.classList.remove(classHidden);\r\n            this._timeoutId = setTimeout(() => { this.hide() }, this._options.delay);\r\n        } else if (this._timeoutId == undefined) {\r\n            this._element.classList.add(classHidden);\r\n        }\r\n    }\r\n\r\n    _setOptionInt(option, attr) {\r\n        let value = this._element.getAttribute(attr);\r\n        if (value) {\r\n            this._options[option] = parseInt(value);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// Globals\r\n// -------\r\n\r\nwindow.HideOnScroll = HideOnScroll;"]}